{"remainingRequest":"/Users/txf/Desktop/VulnFind/vulnfind-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/txf/Desktop/VulnFind/vulnfind-vue/src/views/Welcome.vue?vue&type=style&index=0&id=e4731dd0&lang=less&scoped=true&","dependencies":[{"path":"/Users/txf/Desktop/VulnFind/vulnfind-vue/src/views/Welcome.vue","mtime":1614913490258},{"path":"/Users/txf/Desktop/VulnFind/vulnfind-vue/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/txf/Desktop/VulnFind/vulnfind-vue/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/txf/Desktop/VulnFind/vulnfind-vue/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/txf/Desktop/VulnFind/vulnfind-vue/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/txf/Desktop/VulnFind/vulnfind-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/txf/Desktop/VulnFind/vulnfind-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoucGFuZWwtZ3JvdXAgewogIG1hcmdpbi10b3A6IDE4cHg7CgogIC5jYXJkLXBhbmVsLWNvbCB7CiAgICBtYXJnaW4tYm90dG9tOiAzMnB4OwogIH0KCiAgLmNhcmQtcGFuZWwgewogICAgaGVpZ2h0OiAxMDhweDsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICBjb2xvcjogIzY2NjsKICAgIGJhY2tncm91bmQ6ICNmZmY7CiAgICBib3gtc2hhZG93OiA0cHggNHB4IDQwcHggcmdiYSgwLCAwLCAwLCAwLjA1KTsKICAgIGJvcmRlci1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjA1KTsKCiAgICAuY2FyZC1wYW5lbC1pY29uLXdyYXBwZXIgewogICAgICBjb2xvcjogI2ZmZjsKICAgIH0KCiAgICAuaWNvbi1wZW9wbGUgewogICAgICBiYWNrZ3JvdW5kOiAjNDBjOWM2OwogICAgfQoKICAgIC5pY29uLW1vbmV5IHsKICAgICAgYmFja2dyb3VuZDogI2Y0NTE2YzsKICAgIH0KCiAgICAuaWNvbi1zaG9wcGluZyB7CiAgICAgIGJhY2tncm91bmQ6ICMzNGJmYTM7CiAgICB9CgogICAgLmljb24tcGVvcGxlIHsKICAgICAgY29sb3I6ICM0MGM5YzY7CiAgICB9CgogICAgLmljb24tbW9uZXkgewogICAgICBjb2xvcjogI2Y0NTE2YzsKICAgIH0KCiAgICAuaWNvbi1zaG9wcGluZyB7CiAgICAgIGNvbG9yOiAjMzRiZmEzOwogICAgfQoKICAgIC5jYXJkLXBhbmVsLWljb24td3JhcHBlciB7CiAgICAgIGZsb2F0OiBsZWZ0OwogICAgICBtYXJnaW46IDE0cHggMCAwIDI1cHg7CiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjM4cyBlYXNlLW91dDsKICAgICAgYm9yZGVyLXJhZGl1czogNnB4OwogICAgfQoKICAgIC5jYXJkLXBhbmVsLWljb24gewogICAgICBmbG9hdDogbGVmdDsKICAgICAgZm9udC1zaXplOiA0OHB4OwogICAgICB3aWR0aDogNTBweDsKICAgIH0KCiAgICAuY2FyZC1wYW5lbC1kZXNjcmlwdGlvbiB7CiAgICAgIGZsb2F0OiByaWdodDsKICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgIG1hcmdpbjogMjZweDsKICAgICAgbWFyZ2luLWxlZnQ6IDBweDsKCiAgICAgIC5jYXJkLXBhbmVsLXRleHQgewogICAgICAgIGxpbmUtaGVpZ2h0OiAxOHB4OwogICAgICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNDUpOwogICAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgICBtYXJnaW4tYm90dG9tOiAxMnB4OwogICAgICB9CgogICAgICAuY2FyZC1wYW5lbC1udW0gewogICAgICAgIGZvbnQtc2l6ZTogMjBweDsKICAgICAgfQogICAgfQogIH0KfQoKQG1lZGlhIChtYXgtd2lkdGg6IDU1MHB4KSB7CiAgLmNhcmQtcGFuZWwtZGVzY3JpcHRpb24gewogICAgZGlzcGxheTogbm9uZTsKICB9CgogIC5jYXJkLXBhbmVsLWljb24td3JhcHBlciB7CiAgICBmbG9hdDogbm9uZSAhaW1wb3J0YW50OwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBtYXJnaW46IDAgIWltcG9ydGFudDsKCiAgICAuc3ZnLWljb24gewogICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgbWFyZ2luOiAxNHB4IGF1dG8gIWltcG9ydGFudDsKICAgICAgZmxvYXQ6IG5vbmUgIWltcG9ydGFudDsKICAgIH0KICB9Cn0KCi8v5Y2h54mH5qC35byPCi50ZXh0IHsKICBmb250LXNpemU6IDE0cHg7Cn0KCi5pdGVtIHsKICBtYXJnaW4tYm90dG9tOiAxOHB4Owp9CgouY2xlYXJmaXg6YmVmb3JlLAouY2xlYXJmaXg6YWZ0ZXIgewogIGRpc3BsYXk6IHRhYmxlOwogIGNvbnRlbnQ6ICIiOwp9Ci5jbGVhcmZpeDphZnRlciB7CiAgY2xlYXI6IGJvdGg7Cn0KCi5ib3gtY2FyZCB7CiAgd2lkdGg6IDI2NXB4OwogIGhlaWdodDogOTAwcHg7Cn0K"},{"version":3,"sources":["Welcome.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkVA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Welcome.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <el-row :gutter=\"40\" class=\"panel-group\">\n    <el-col :xs=\"12\" :sm=\"12\" :lg=\"6\" class=\"card-panel-col\">\n      <div class=\"card-panel\" @click=\"handleSetLineChartData('newVisitis')\">\n        <div class=\"card-panel-icon-wrapper icon-message\">\n          <img src=\"../assets/all.png\" alt style=\"width:75px\" />\n        </div>\n        <div class=\"card-panel-description\">\n          <count-to :start-val=\"0\" :end-val=\"iplist\" :duration=\"3000\" class=\"card-panel-num\" />\n          <div class=\"card-panel-text\">资产总数</div>\n        </div>\n      </div>\n    </el-col>\n    <el-col :xs=\"12\" :sm=\"12\" :lg=\"6\" class=\"card-panel-col\">\n      <div class=\"card-panel\" @click=\"handleSetLineChartData('messages')\">\n        <div class=\"card-panel-icon-wrapper icon-message\">\n          <img src=\"../assets/ipall.png\" alt style=\"width:75px\" />\n        </div>\n        <div class=\"card-panel-description\">\n          <count-to :start-val=\"0\" :end-val=\"ip\" :duration=\"3000\" class=\"card-panel-num\" />\n          <div class=\"card-panel-text\">IP总数</div>\n        </div>\n      </div>\n    </el-col>\n    <el-col :xs=\"12\" :sm=\"12\" :lg=\"6\" class=\"card-panel-col\">\n      <div class=\"card-panel\" @click=\"handleSetLineChartData('purchases')\">\n        <div class=\"card-panel-icon-wrapper icon-message\">\n          <img src=\"../assets/login.png\" alt style=\"width:75px\" />\n        </div>\n        <div class=\"card-panel-description\">\n          <count-to :start-val=\"0\" :end-val=\"weblogin\" :duration=\"3200\" class=\"card-panel-num\" />\n          <div class=\"card-panel-text\">管理后台</div>\n        </div>\n      </div>\n    </el-col>\n\n\n    <el-col :xs=\"12\" :sm=\"12\" :lg=\"6\" class=\"card-panel-col\">\n      <div class=\"card-panel\" @click=\"handleSetLineChartData('purchases')\">\n        <div class=\"card-panel-icon-wrapper icon-message\">\n          <img src=\"../assets/login.png\" alt style=\"width:75px\" />\n        </div>\n        <div class=\"card-panel-description\">\n          <count-to :start-val=\"0\" :end-val=\"weblogin\" :duration=\"3200\" class=\"card-panel-num\" />\n          <div class=\"card-panel-text\">管理后台</div>\n        </div>\n      </div>\n    </el-col>\n\n\n    <el-col :xs=\"12\" :sm=\"12\" :lg=\"8\">\n      <div class=\"Echarts\">\n        <div id=\"main\" style=\"width: 500px;height:300px;\"></div>\n      </div>\n    </el-col>\n\n    <el-col :xs=\"12\" :sm=\"12\" :lg=\"8\" style=\"width: 500px;height:300px;\">\n      <div class=\"Echarts\">\n        <div id=\"main1\" style=\"width: 500px;height:300px;\"></div>\n      </div>\n    </el-col>\n\n    <el-col :xs=\"12\" :sm=\"12\" :lg=\"6\" style=\"position: absolute;right: -7px;top: 148px;\">\n      <el-card class=\"box-card\" >\n        <div slot=\"header\" class=\"clearfix\">\n          <span>系统动态</span>\n          <!-- <el-button style=\"float: right; padding: 3px 0\" type=\"text\">操作按钮</el-button> -->\n        </div>\n        <!-- <div v-for=\"o in 4\" :key=\"o\" class=\"text item\">{{'新增端口 ' + o }}</div> -->\n        <div style=\"margin-left: -45px;\">\n          <el-timeline>\n            <el-timeline-item\n                v-for=\"(activity, index) in activities\"\n                :key=\"index\"\n                :icon=\"activity.icon\"\n                :timestamp=\"activity.timestamp\"\n            >{{activity.content}}</el-timeline-item>\n          </el-timeline>\n        </div>\n      </el-card>\n    </el-col>\n\n    <el-col :xs=\"12\" :sm=\"12\" :lg=\"6\" style=\"width: 900px;height:300px\">\n      <div class=\"Echarts\">\n        <div id=\"main2\" style=\"width: 900px;height:300px;\"></div>\n      </div>\n    </el-col>\n\n    <el-col :xs=\"12\" :sm=\"12\" :lg=\"6\" style=\"width: 900px;height:300px\">\n      <div class=\"Echarts\">\n        <div id=\"main3\" style=\"width: 900px;height:300px;\"></div>\n      </div>\n    </el-col>\n  </el-row>\n</template>\n\n\n<script>\nimport CountTo from \"vue-count-to\";\n\nexport default {\n  data() {\n    return {\n      iplist: 0,\n      ip: 0,\n      weblogin: 0,\n      vuln: 0,\n      test: 199,\n      vulnratio: [{}],\n      option: {\n        title: {\n          text: \"漏洞占比\"\n        },\n        color:['#3F9EFF', '#53CB75','#FBD43F','#2EC7C9','#B6A2DE','#D87A80','#E7FAF0','#FFEDED'],\n        tooltip: {\n          trigger: \"item\",\n          formatter: \"{a} <br/>{b} : {c} ({d}%)\"\n        },\n        series: {\n          name: \"漏洞数量\",\n          type: \"pie\",\n          radius: \"85%\",\n          data: [\n            {name: 'MYSQL', value: 1212},\n          ]\n        }\n      },\n\n      option1: {\n        title: {\n          text: \"7日资产新增\"\n        },\n        color: [\"#53CB75\"],\n        tooltip: {\n          trigger: \"axis\",\n          axisPointer: {\n            type: \"shadow\" // 默认为直线，可选为：'line' | 'shadow'\n          }\n        },\n\n        grid: {\n          left: \"3%\",\n          right: \"4%\",\n          bottom: \"3%\",\n          containLabel: true\n        },\n        // toolbox: {\n        //   feature: {\n        //     saveAsImage: {}\n        //   }\n        // },\n        xAxis: {\n          type: \"category\",\n          boundaryGap: false,\n          data: [\"周一\", \"周二\", \"周三\", \"周四\", \"周五\", \"周六\", \"周日\"],\n          axisTick: {\n            alignWithLabel: true\n          },\n          axisLabel: {\n            interval: 0,\n            rotate: 45\n          }\n        },\n        yAxis: {\n          type: \"value\"\n        },\n        series: [\n          {\n            name: \"新增资产\",\n            type: \"line\",\n            stack: \"总量\",\n            data: [120, 132, 101, 134, 90, 230, 210]\n          }\n        ]\n      },\n\n      option2: {\n        title: {\n          text: \"端口占比\"\n        },\n        color: [\"#3F9EFF\"],\n        tooltip: {\n          trigger: \"axis\",\n          axisPointer: {\n            type: \"shadow\" // 默认为直线，可选为：'line' | 'shadow'\n          }\n        },\n        xAxis: [\n          {\n            type: \"category\",\n            data: [{ name: 0, value: \"Mon\" }],\n            axisTick: {\n              alignWithLabel: true\n            },\n            axisLabel: {\n              interval: 0\n            }\n          }\n        ],\n        yAxis: [\n          {\n            type: \"value\"\n          }\n        ],\n        series: [\n          {\n            name: \"端口数量\",\n            type: \"bar\",\n            barWidth: \"60%\",\n            data: [10, 52, 200, 334, 390, 330, 220]\n          }\n        ]\n      },\n      option3: {\n        title: {\n          text: \"服务占比\"\n        },\n        color:['#3F9EFF'],\n        tooltip: {\n          trigger: \"axis\",\n          axisPointer: {\n            type: \"shadow\" // 默认为直线，可选为：'line' | 'shadow'\n          }\n        },\n        xAxis: [\n          {\n            type: \"category\",\n            data: [{ name: 0, value: \"Mon\" }],\n            axisTick: {\n              alignWithLabel: true\n            },\n            axisLabel: {\n              interval: 0,\n              rotate: 45\n            }\n          }\n        ],\n        yAxis: [\n          {\n            type: \"value\"\n          }\n        ],\n        series: [\n          {\n            name: \"数量\",\n            type: \"bar\",\n            barWidth: \"60%\",\n            data: [10, 52, 200, 334, 390, 330, 220]\n          }\n        ]\n      },\n\n      activities: [\n        {\n          content: \"新增漏洞 10.123.154.121\",\n          timestamp: \"2018-04-12 20:46\",\n          color: \"#0bbd87\"\n        }\n      ]\n    };\n  },\n  components: {\n    CountTo\n  },\n\n  name: \"Echarts\",\n  methods: {\n    myEcharts() {\n      // 基于准备好的dom，初始化echarts实例\n      // var myChart2 = this.$echarts.init(document.getElementById(\"main2\"));\n      // 指定图表的配置项和数据\n    },\n\n    async getIpList() {\n      try {\n        const { data: res } = await this.$http.get(\"/dashboard\", {});\n        if (res.code !== 200) {\n          return this.$message.error(\"获取列表失败\");\n        }\n        this.iplist = res.data.iplist;\n        this.ip = res.data.ip;\n        this.weblogin = res.data.weblogin;\n        this.vuln = res.data.vuln;\n      } catch (error) {\n        return this.$message.error(\"cookie失效，请点击右上角退出重新登陆\");\n        error.message; // \"Oops!\"\n      }\n    }\n  },\n\n  handleSetLineChartData(type) {\n    this.$emit(\"handleSetLineChartData\", type);\n  },\n\n  async mounted() {\n    var myChart = this.$echarts.init(document.getElementById(\"main\"));\n    var myChart1 = this.$echarts.init(document.getElementById(\"main1\"));\n    var myChart2 = this.$echarts.init(document.getElementById(\"main2\"));\n    var myChart3 = this.$echarts.init(document.getElementById(\"main3\"));\n\n    const { data: res } = await this.$http.get(\"/dashboard\", {});\n    if (res.code !== 200) {\n      return this.$message.error(\"获取列表失败\");\n    }\n    //系统动态\n    this.activities = res.data.dynamics;\n    // if (res.data.vulnratio == null){\n    //   console.log('kong')\n    // }else{\n    //   console.log('yesyes')\n    // }\n\n    //饼图数据\n    this.option.series.data = res.data.vulnratio;\n    myChart.setOption(this.option);\n    myChart1.setOption(this.option1);\n    myChart2.setOption(this.option2);\n\n    //  近7天新增数据\n    this.option1.xAxis.data = res.data.timelinex;\n    this.option1.series[0].data = res.data.timeliney;\n\n    this.option2.xAxis[0].data = res.data.portlinex;\n    this.option2.series[0].data = res.data.portliney;\n\n    this.option3.xAxis[0].data = res.data.protocolinex;\n    this.option3.series[0].data = res.data.protocoliney;\n\n    myChart1.setOption(this.option1);\n    myChart2.setOption(this.option2);\n    myChart3.setOption(this.option3);\n  },\n  created() {\n    this.getIpList();\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.panel-group {\n  margin-top: 18px;\n\n  .card-panel-col {\n    margin-bottom: 32px;\n  }\n\n  .card-panel {\n    height: 108px;\n    cursor: pointer;\n    font-size: 12px;\n    position: relative;\n    overflow: hidden;\n    color: #666;\n    background: #fff;\n    box-shadow: 4px 4px 40px rgba(0, 0, 0, 0.05);\n    border-color: rgba(0, 0, 0, 0.05);\n\n    .card-panel-icon-wrapper {\n      color: #fff;\n    }\n\n    .icon-people {\n      background: #40c9c6;\n    }\n\n    .icon-money {\n      background: #f4516c;\n    }\n\n    .icon-shopping {\n      background: #34bfa3;\n    }\n\n    .icon-people {\n      color: #40c9c6;\n    }\n\n    .icon-money {\n      color: #f4516c;\n    }\n\n    .icon-shopping {\n      color: #34bfa3;\n    }\n\n    .card-panel-icon-wrapper {\n      float: left;\n      margin: 14px 0 0 25px;\n      transition: all 0.38s ease-out;\n      border-radius: 6px;\n    }\n\n    .card-panel-icon {\n      float: left;\n      font-size: 48px;\n      width: 50px;\n    }\n\n    .card-panel-description {\n      float: right;\n      font-weight: bold;\n      margin: 26px;\n      margin-left: 0px;\n\n      .card-panel-text {\n        line-height: 18px;\n        color: rgba(0, 0, 0, 0.45);\n        font-size: 16px;\n        margin-bottom: 12px;\n      }\n\n      .card-panel-num {\n        font-size: 20px;\n      }\n    }\n  }\n}\n\n@media (max-width: 550px) {\n  .card-panel-description {\n    display: none;\n  }\n\n  .card-panel-icon-wrapper {\n    float: none !important;\n    width: 100%;\n    height: 100%;\n    margin: 0 !important;\n\n    .svg-icon {\n      display: block;\n      margin: 14px auto !important;\n      float: none !important;\n    }\n  }\n}\n\n//卡片样式\n.text {\n  font-size: 14px;\n}\n\n.item {\n  margin-bottom: 18px;\n}\n\n.clearfix:before,\n.clearfix:after {\n  display: table;\n  content: \"\";\n}\n.clearfix:after {\n  clear: both;\n}\n\n.box-card {\n  width: 265px;\n  height: 900px;\n}\n</style>\n"]}]}